!function(){"use strict";try{window.trustedTypes&&trustedTypes.createPolicy&&trustedTypes.createPolicy("www_youtube_com_content_script",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}}(),function(){"use strict";(()=>{const e={apply:(e,t,n)=>{const r=n[0];return"function"==typeof r&&r.toString().includes("onAbnormalityDetected")&&(n[0]=function(){}),Reflect.apply(e,t,n)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then,e)})(),(()=>{const e={apply:(e,t,n)=>{const r=Reflect.apply(e,t,n);try{r instanceof HTMLIFrameElement&&"about:blank"===r.src&&r.contentWindow&&(r.contentWindow.fetch=window.fetch,r.contentWindow.Request=window.Request)}catch(e){}return r}};Node.prototype.appendChild=new Proxy(Node.prototype.appendChild,e)})(),(()=>{let e=document.location.href,t=[],n=[],r="",i=!1;const o=Array.prototype.push,a={apply:(e,r,a)=>(window.yt?.config_?.EXPERIMENT_FLAGS?.html5_enable_ssap_entity_id&&a[0]&&a[0]!==window&&"number"==typeof a[0].start&&a[0].end&&"ssap"===a[0].namespace&&a[0].id&&(i||0!==a[0]?.start||n.includes(a[0].id)||(t.length=0,n.length=0,i=!0,o.call(t,a[0]),o.call(n,a[0].id)),i&&0!==a[0]?.start&&!n.includes(a[0].id)&&(o.call(t,a[0]),o.call(n,a[0].id))),Reflect.apply(e,r,a))};window.Array.prototype.push=new Proxy(window.Array.prototype.push,a),document.addEventListener("DOMContentLoaded",function(){if(!window.yt?.config_?.EXPERIMENT_FLAGS?.html5_enable_ssap_entity_id)return;const o=()=>{const e=document.querySelector("video");if(e&&t.length){const o=Math.round(e.duration),a=Math.round(t.at(-1).end/1e3),s=n.join(",");if(!1===e.loop&&r!==s&&o&&o===a){const n=t.at(-1).start/1e3;e.currentTime<n&&(e.currentTime=n,i=!1,r=s)}else if(!0===e.loop&&o&&o===a){const n=t.at(-1).start/1e3;e.currentTime<n&&(e.currentTime=n,i=!1,r=s)}}};o(),new MutationObserver(()=>{e!==document.location.href&&(e=document.location.href,t.length=0,n.length=0,i=!1),o()}).observe(document,{childList:!0,subtree:!0})})})(),(()=>{const e={construct:(e,t,n)=>{try{const r=t[0];let i=t[1]?.body;if(!r?.includes("youtubei")||location.href.includes("/shorts/")||!i)return Reflect.construct(e,t,n);if((i.includes('"contentPlaybackContext"')||i.includes('"adSignalsInfo"'))&&(!i.includes('"params":"yAEB')||!i.includes('"clientScreen":"ADUNIT"'))){const r=JSON.parse(i);if(!r.context?.client)return Reflect.construct(e,t,n);r.context.client.clientScreen="ADUNIT",r.playbackContext&&(r.params=`yAEB${r.params?r.params:""}`),r.playerRequest&&(r.playerRequest.params=`yAEB${r.playerRequest.params?r.playerRequest.params:""}`),i=JSON.stringify(r),t[1].body=i}}catch(e){console.trace("Error occurred:",e)}return Reflect.construct(e,t,n)}};window.Request=new Proxy(window.Request,e)})(),window.JSON.parse=new Proxy(JSON.parse,{apply(e,t,n){const r=Reflect.apply(e,t,n);if(!location.pathname.startsWith("/shorts/"))return r;const i=r?.entries;return i&&Array.isArray(i)&&(r.entries=r.entries.filter(e=>{if(!e?.command?.reelWatchEndpoint?.adClientParams?.isAd)return e})),r}});!function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:NaN;if(t&&n){var s="trusted-create-element-window";if(window.name!==s){var c,u=function(t,n){a(e,`${t} due to ${function(e){if(t=e,"object"==typeof t&&null!==t&&"message"in t&&"string"==typeof t.message)return e.message;var t;try{return new Error(JSON.stringify(e)).message}catch(t){return new Error(String(e)).message}}(n)}`)};try{(c=document.createElement(n)).textContent=i}catch(e){return void u(`Cannot create element with tag name '${n}'`,e)}var l,f=[];try{f=function(e){if(!e)return[];for(var t="=",n=" ",r="'",i='"',o="\\",a=[],s=0;s<e.length;s+=1){for(var c="",u="";s<e.length&&e[s]!==t&&e[s]!==n;)c+=e[s],s+=1;if(s<e.length&&e[s]===t){var l=null;if(e[s+=1]!==r&&e[s]!==i)throw new Error(`Attribute value should be quoted: "${e.slice(s)}"`);for(l=e[s],s+=1;s<e.length;s+=1)if(e[s]===l){if(e[s-1]!==o){s+=1,l=null;break}u=`${u.slice(0,-1)}${l}`}else u+=e[s];if(null!==l)throw new Error(`Unbalanced quote for attribute value: '${e}'`)}if(c=c.trim(),u=u.trim(),!c){if(!u)continue;throw new Error(`Attribute name before '=' should be specified: '${e}'`)}if(a.push({name:c,value:u}),e[s]&&e[s]!==n)throw new Error(`No space before attribute: '${e.slice(s)}'`)}return a}(r)}catch(e){return void u(`Cannot parse attributePairs param: '${r}'`,e)}f.forEach(function(e){try{c.setAttribute(e.name,e.value)}catch(t){u(`Cannot set attribute '${e.name}' with value '${e.value}'`,t)}});var p=!1,d=!1,v=function(t,n,r){var i,o;try{i=document.querySelector(t)}catch(e){return u(`Cannot find parent element by selector '${t}'`,e),!1}if(!i)return a(e,`No parent element found by selector: '${t}'`),!1;try{i.contains(n)||i.append(n),n instanceof HTMLIFrameElement&&n.contentWindow&&(n.contentWindow.name=s),p=!0,function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)}catch(e){return u(`Cannot append child to parent by selector '${t}'`,e),!1}return o=r,(Number.isNaN||window.isNaN)(o)||(l=setTimeout(function(){n.remove(),d=!0,clearTimeout(l)},r)),!0};v(t,c,o)||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{subtree:!0,childList:!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,r=new MutationObserver(function(n,r){r.disconnect(),e(n,r),r.observe(document.documentElement,t)});r.observe(document.documentElement,t),"number"==typeof n&&setTimeout(function(){return r.disconnect()},n)}(function(e,n){(d||p||v(t,c,o))&&n.disconnect()})}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(n||o){var a=console.log;r?a(`${i}: ${t}`):a(`${i}:`,t)}}}({engine:"safari-extension",name:"trusted-create-element",args:["head","script","",'(()=>{try{document.currentScript.remove()}catch{}const t={apply:(t,e,o)=>{const n=o[0];return"function"==typeof n&&n.toString().includes("onAbnormalityDetected")&&(o[0]=function(){}),Reflect.apply(t,e,o)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then,t)})();'],version:"3.0.0"},["head","script","",'(()=>{try{document.currentScript.remove()}catch{}const t={apply:(t,e,o)=>{const n=o[0];return"function"==typeof n&&n.toString().includes("onAbnormalityDetected")&&(o[0]=function(){}),Reflect.apply(t,e,o)}};window.Promise.prototype.then=new Proxy(window.Promise.prototype.then,t)})();']),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(t){var f=a,{base:p,chain:d,prop:v}=f(window,t);if(void 0===d){var g=p[v];if(g&&"function"==typeof g){var h=function(t,r,i,o,a){if("base64"===o)try{if(!function(e){try{if(""===e)return!1;var t=atob(e),n=btoa(t),r=e.replace(/=+$/,"");return n.replace(/=+$/,"")===r}catch(e){return!1}}(t))return s(e,`Text content is not a valid base64 encoded string: ${t}`),t;var c=atob(t);a&&s(e,`Decoded text content: ${c}`);var u=n?c.replace(r,i):c;if(a)s(e,u!==c?`Modified decoded text content: ${u}`:"Decoded text content was not modified");return btoa(u)}catch(e){return t}return t.replace(r,i)},y=!n||!!l,b=!!l,m=!!i&&!!l,w=!1,$={apply:function(t,a,f){if(w)return Reflect.apply(t,a,f);w=!0,function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e);var p=Reflect.apply(t,a,f);if(o&&!function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,u=s.indexOf("#");-1!==u&&(s=s.slice(0,u));var l=t.split("\n").slice(2).map(function(e){return e.trim()}),f=l.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(f)for(var p=0;p<f.length;p+=1){if(o(e)&&f[p].startsWith(n)&&f[p].match(c(e)))return!0;if(a(e)&&f[p].startsWith(r)&&f[p].match(c(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&u(n),!0;var r=c(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&u(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(o,(new Error).stack||""))return p;if("string"==typeof p){y&&s(e,`Original text content: ${p}`);var d=c(n),v=n||m?h(p,d,r,i,l):p;if(b)s(e,v!==p?`Modified text content: ${v}`:"Text content was not modified");return w=!1,v}return w=!1,s(e,"Content is not a string"),p}};p[v]=new Proxy(g,$)}else s(e,`Could not retrieve the method: ${t}`)}else s(e,`Could not reach the end of the prop chain: ${t}`)}}function a(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i,o=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&(i=e,0===Object.keys(i).length&&!i.prototype)||null===o?{base:e,prop:r,chain:t}:void 0!==o?a(o,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(n||o){var a=console.log;r?a(`${i}: ${t}`):a(`${i}:`,t)}}function c(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function u(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"trusted-replace-outbound-text",args:["JSON.stringify",'isWebNativeShareAvailable":true}}','isWebNativeShareAvailable":true},"clientScreen":"ADUNIT"}'],version:"3.0.0"},["JSON.stringify",'isWebNativeShareAvailable":true}}','isWebNativeShareAvailable":true},"clientScreen":"ADUNIT"}']),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";if(t){var f=a,{base:p,chain:d,prop:v}=f(window,t);if(void 0===d){var g=p[v];if(g&&"function"==typeof g){var h=function(t,r,i,o,a){if("base64"===o)try{if(!function(e){try{if(""===e)return!1;var t=atob(e),n=btoa(t),r=e.replace(/=+$/,"");return n.replace(/=+$/,"")===r}catch(e){return!1}}(t))return s(e,`Text content is not a valid base64 encoded string: ${t}`),t;var c=atob(t);a&&s(e,`Decoded text content: ${c}`);var u=n?c.replace(r,i):c;if(a)s(e,u!==c?`Modified decoded text content: ${u}`:"Decoded text content was not modified");return btoa(u)}catch(e){return t}return t.replace(r,i)},y=!n||!!l,b=!!l,m=!!i&&!!l,w=!1,$={apply:function(t,a,f){if(w)return Reflect.apply(t,a,f);w=!0,function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e);var p=Reflect.apply(t,a,f);if(o&&!function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,u=s.indexOf("#");-1!==u&&(s=s.slice(0,u));var l=t.split("\n").slice(2).map(function(e){return e.trim()}),f=l.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(f)for(var p=0;p<f.length;p+=1){if(o(e)&&f[p].startsWith(n)&&f[p].match(c(e)))return!0;if(a(e)&&f[p].startsWith(r)&&f[p].match(c(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&u(n),!0;var r=c(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&u(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(o,(new Error).stack||""))return p;if("string"==typeof p){y&&s(e,`Original text content: ${p}`);var d=c(n),v=n||m?h(p,d,r,i,l):p;if(b)s(e,v!==p?`Modified text content: ${v}`:"Text content was not modified");return w=!1,v}return w=!1,s(e,"Content is not a string"),p}};p[v]=new Proxy(g,$)}else s(e,`Could not retrieve the method: ${t}`)}else s(e,`Could not reach the end of the prop chain: ${t}`)}}function a(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i,o=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&(i=e,0===Object.keys(i).length&&!i.prototype)||null===o?{base:e,prop:r,chain:t}:void 0!==o?a(o,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(n||o){var a=console.log;r?a(`${i}: ${t}`):a(`${i}:`,t)}}function c(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function u(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"trusted-replace-outbound-text",args:["JSON.stringify",'"clientScreen":"WATCH"','"clientScreen":"ADUNIT"'],version:"3.0.0"},["JSON.stringify",'"clientScreen":"WATCH"','"clientScreen":"ADUNIT"']),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n,r){var i=window.setTimeout,o=function(e){var t=e||"",n=".?",r="/";if(""===t)return new RegExp(n);var i=t.lastIndexOf(r),o=t.substring(i+1),a=t.substring(0,i+1),s=function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}},c=(u=a,l=o,u.startsWith(r)&&u.endsWith(r)&&!u.endsWith("\\/")&&s(l)?l:"");var u,l;if(t.startsWith(r)&&t.endsWith(r)||c){return new RegExp((c?a:t).slice(1,-1),c)}var f=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(f)}(t);window.setTimeout=function(t,s){if(function(e){return e instanceof Function||"string"==typeof e}(t))o.test(t.toString())&&(l=s,function(e){return"*"===e}(u=n)||l===function(e){var t=1e3,n=parseInt(e,10);return a(n)?t:n}(u))&&(s*=function(e){var t=.05,n=.001,r=50,i=parseFloat(e),o=a(i)||(s=i,!(Number.isFinite||window.isFinite)(s))?t:i;var s;o<n&&(o=n);o>r&&(o=r);return o}(r),function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e));else{var c=`Scriptlet can't be applied because of invalid callback: '${String(t)}'`;!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,c)}for(var u,l,f=arguments.length,p=new Array(f>2?f-2:0),d=2;d<f;d++)p[d-2]=arguments[d];return i.apply(window,[t,s,...p])}}function a(e){return(Number.isNaN||window.isNaN)(e)}}({engine:"safari-extension",name:"adjust-setTimeout",args:["[native code]","17000","0.001"],version:"3.0.0"},["[native code]","17000","0.001"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(["set-constant.js","ubo-set-constant.js","set.js","ubo-set.js","ubo-set-constant","ubo-set"].includes(e.name)&&(1!==i.length&&(v(r=parseInt(i,10))||!r)&&(o=i),i=void 0),t&&function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var f=0;f<l.length;f+=1){if(o(e)&&l[f].startsWith(n)&&l[f].match(h(e)))return!0;if(a(e)&&l[f].startsWith(r)&&l[f].match(h(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&y(n),!0;var r=h(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&y(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack)){var m,w=!1;if("undefined"===n)m=void 0;else if("false"===n)m=!1;else if("true"===n)m=!0;else if("null"===n)m=null;else if("emptyArr"===n)m=[];else if("emptyObj"===n)m={};else if("noopFunc"===n)m=a;else if("noopCallbackFunc"===n)m=s;else if("trueFunc"===n)m=c;else if("falseFunc"===n)m=u;else if("throwFunc"===n)m=l;else if("noopPromiseResolve"===n)m=p;else if("noopPromiseReject"===n)m=f;else if(/^\d+$/.test(n)){if(v(m=parseFloat(n)))return;if(Math.abs(m)>32767)return}else if("-1"===n)m=-1;else if(""===n)m="";else if("yes"===n)m="yes";else{if("no"!==n)return;m="no"}if(["asFunction","asCallback","asResolved","asRejected"].includes(o))m={asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)}[o](m);var $=!1,j=function(e){return $||($=void 0!==e&&void 0!==m&&typeof e!=typeof m&&null!==e)},x=function(n,r,i,o){if(!o.init(n[r]))return!1;var a,s=Object.getOwnPropertyDescriptor(n,r);if(s instanceof Object){if(!s.configurable)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,`Property '${r}' is not configurable`),!1;n[r]&&(n[r]=m),s.set instanceof Function&&(a=s.set)}return Object.defineProperty(n,r,{configurable:i,get:()=>o.get(),set(e){if(void 0!==a&&a(e),e instanceof Object){var n=t.split(".").slice(1);b&&!w&&(w=!0,e=new Proxy(e,{get:function(e,t,r){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==m&&(e[t]=m),i||e},e),Reflect.get(e,t,r)}}))}o.set(e)}}),!0},R=function(t,n){var r=d(t,n),{base:i}=r,{prop:o,chain:a}=r,s={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(e){this.factValue!==e&&(this.factValue=e,e instanceof Object&&R(e,a))}},c={init:e=>!j(e),get:()=>m,set(e){j(e)&&(m=e)}};if(a)if(void 0===i||null!==i[o]){(i instanceof Object||"object"==typeof i)&&g(i)&&x(i,o,!0,s);var u=t[o];(u instanceof Object||"object"==typeof u&&null!==u)&&R(u,a),x(i,o,!0,s)}else x(i,o,!0,s);else x(i,o,!1,c)&&function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)};R(window,t)}}function a(){}function s(){return a}function c(){return!0}function u(){return!1}function l(){throw new Error}function f(){return Promise.reject()}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var n=new Response(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",{status:200,statusText:"OK"});return"opaque"===t?Object.defineProperties(n,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:t}}):Object.defineProperties(n,{url:{value:e},type:{value:t}}),Promise.resolve(n)}}function d(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&g(e)||null===i?{base:e,prop:r,chain:t}:void 0!==i?d(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function v(e){return(Number.isNaN||window.isNaN)(e)}function g(e){return 0===Object.keys(e).length&&!e.prototype}function h(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function y(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"set-constant",args:["google_ad_status","1"],version:"3.0.0"},["google_ad_status","1"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(["set-constant.js","ubo-set-constant.js","set.js","ubo-set.js","ubo-set-constant","ubo-set"].includes(e.name)&&(1!==i.length&&(v(r=parseInt(i,10))||!r)&&(o=i),i=void 0),t&&function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var f=0;f<l.length;f+=1){if(o(e)&&l[f].startsWith(n)&&l[f].match(h(e)))return!0;if(a(e)&&l[f].startsWith(r)&&l[f].match(h(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&y(n),!0;var r=h(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&y(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack)){var m,w=!1;if("undefined"===n)m=void 0;else if("false"===n)m=!1;else if("true"===n)m=!0;else if("null"===n)m=null;else if("emptyArr"===n)m=[];else if("emptyObj"===n)m={};else if("noopFunc"===n)m=a;else if("noopCallbackFunc"===n)m=s;else if("trueFunc"===n)m=c;else if("falseFunc"===n)m=u;else if("throwFunc"===n)m=l;else if("noopPromiseResolve"===n)m=p;else if("noopPromiseReject"===n)m=f;else if(/^\d+$/.test(n)){if(v(m=parseFloat(n)))return;if(Math.abs(m)>32767)return}else if("-1"===n)m=-1;else if(""===n)m="";else if("yes"===n)m="yes";else{if("no"!==n)return;m="no"}if(["asFunction","asCallback","asResolved","asRejected"].includes(o))m={asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)}[o](m);var $=!1,j=function(e){return $||($=void 0!==e&&void 0!==m&&typeof e!=typeof m&&null!==e)},x=function(n,r,i,o){if(!o.init(n[r]))return!1;var a,s=Object.getOwnPropertyDescriptor(n,r);if(s instanceof Object){if(!s.configurable)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,`Property '${r}' is not configurable`),!1;n[r]&&(n[r]=m),s.set instanceof Function&&(a=s.set)}return Object.defineProperty(n,r,{configurable:i,get:()=>o.get(),set(e){if(void 0!==a&&a(e),e instanceof Object){var n=t.split(".").slice(1);b&&!w&&(w=!0,e=new Proxy(e,{get:function(e,t,r){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==m&&(e[t]=m),i||e},e),Reflect.get(e,t,r)}}))}o.set(e)}}),!0},R=function(t,n){var r=d(t,n),{base:i}=r,{prop:o,chain:a}=r,s={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(e){this.factValue!==e&&(this.factValue=e,e instanceof Object&&R(e,a))}},c={init:e=>!j(e),get:()=>m,set(e){j(e)&&(m=e)}};if(a)if(void 0===i||null!==i[o]){(i instanceof Object||"object"==typeof i)&&g(i)&&x(i,o,!0,s);var u=t[o];(u instanceof Object||"object"==typeof u&&null!==u)&&R(u,a),x(i,o,!0,s)}else x(i,o,!0,s);else x(i,o,!1,c)&&function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)};R(window,t)}}function a(){}function s(){return a}function c(){return!0}function u(){return!1}function l(){throw new Error}function f(){return Promise.reject()}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var n=new Response(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",{status:200,statusText:"OK"});return"opaque"===t?Object.defineProperties(n,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:t}}):Object.defineProperties(n,{url:{value:e},type:{value:t}}),Promise.resolve(n)}}function d(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&g(e)||null===i?{base:e,prop:r,chain:t}:void 0!==i?d(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function v(e){return(Number.isNaN||window.isNaN)(e)}function g(e){return 0===Object.keys(e).length&&!e.prototype}function h(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function y(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"set-constant",args:["ytInitialPlayerResponse.adPlacements","undefined"],version:"3.0.0"},["ytInitialPlayerResponse.adPlacements","undefined"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(["set-constant.js","ubo-set-constant.js","set.js","ubo-set.js","ubo-set-constant","ubo-set"].includes(e.name)&&(1!==i.length&&(v(r=parseInt(i,10))||!r)&&(o=i),i=void 0),t&&function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var f=0;f<l.length;f+=1){if(o(e)&&l[f].startsWith(n)&&l[f].match(h(e)))return!0;if(a(e)&&l[f].startsWith(r)&&l[f].match(h(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&y(n),!0;var r=h(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&y(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack)){var m,w=!1;if("undefined"===n)m=void 0;else if("false"===n)m=!1;else if("true"===n)m=!0;else if("null"===n)m=null;else if("emptyArr"===n)m=[];else if("emptyObj"===n)m={};else if("noopFunc"===n)m=a;else if("noopCallbackFunc"===n)m=s;else if("trueFunc"===n)m=c;else if("falseFunc"===n)m=u;else if("throwFunc"===n)m=l;else if("noopPromiseResolve"===n)m=p;else if("noopPromiseReject"===n)m=f;else if(/^\d+$/.test(n)){if(v(m=parseFloat(n)))return;if(Math.abs(m)>32767)return}else if("-1"===n)m=-1;else if(""===n)m="";else if("yes"===n)m="yes";else{if("no"!==n)return;m="no"}if(["asFunction","asCallback","asResolved","asRejected"].includes(o))m={asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)}[o](m);var $=!1,j=function(e){return $||($=void 0!==e&&void 0!==m&&typeof e!=typeof m&&null!==e)},x=function(n,r,i,o){if(!o.init(n[r]))return!1;var a,s=Object.getOwnPropertyDescriptor(n,r);if(s instanceof Object){if(!s.configurable)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,`Property '${r}' is not configurable`),!1;n[r]&&(n[r]=m),s.set instanceof Function&&(a=s.set)}return Object.defineProperty(n,r,{configurable:i,get:()=>o.get(),set(e){if(void 0!==a&&a(e),e instanceof Object){var n=t.split(".").slice(1);b&&!w&&(w=!0,e=new Proxy(e,{get:function(e,t,r){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==m&&(e[t]=m),i||e},e),Reflect.get(e,t,r)}}))}o.set(e)}}),!0},R=function(t,n){var r=d(t,n),{base:i}=r,{prop:o,chain:a}=r,s={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(e){this.factValue!==e&&(this.factValue=e,e instanceof Object&&R(e,a))}},c={init:e=>!j(e),get:()=>m,set(e){j(e)&&(m=e)}};if(a)if(void 0===i||null!==i[o]){(i instanceof Object||"object"==typeof i)&&g(i)&&x(i,o,!0,s);var u=t[o];(u instanceof Object||"object"==typeof u&&null!==u)&&R(u,a),x(i,o,!0,s)}else x(i,o,!0,s);else x(i,o,!1,c)&&function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)};R(window,t)}}function a(){}function s(){return a}function c(){return!0}function u(){return!1}function l(){throw new Error}function f(){return Promise.reject()}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var n=new Response(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",{status:200,statusText:"OK"});return"opaque"===t?Object.defineProperties(n,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:t}}):Object.defineProperties(n,{url:{value:e},type:{value:t}}),Promise.resolve(n)}}function d(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&g(e)||null===i?{base:e,prop:r,chain:t}:void 0!==i?d(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function v(e){return(Number.isNaN||window.isNaN)(e)}function g(e){return 0===Object.keys(e).length&&!e.prototype}function h(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function y(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"set-constant",args:["ytInitialPlayerResponse.adSlots","undefined"],version:"3.0.0"},["ytInitialPlayerResponse.adSlots","undefined"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(["set-constant.js","ubo-set-constant.js","set.js","ubo-set.js","ubo-set-constant","ubo-set"].includes(e.name)&&(1!==i.length&&(v(r=parseInt(i,10))||!r)&&(o=i),i=void 0),t&&function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var f=0;f<l.length;f+=1){if(o(e)&&l[f].startsWith(n)&&l[f].match(h(e)))return!0;if(a(e)&&l[f].startsWith(r)&&l[f].match(h(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&y(n),!0;var r=h(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&y(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack)){var m,w=!1;if("undefined"===n)m=void 0;else if("false"===n)m=!1;else if("true"===n)m=!0;else if("null"===n)m=null;else if("emptyArr"===n)m=[];else if("emptyObj"===n)m={};else if("noopFunc"===n)m=a;else if("noopCallbackFunc"===n)m=s;else if("trueFunc"===n)m=c;else if("falseFunc"===n)m=u;else if("throwFunc"===n)m=l;else if("noopPromiseResolve"===n)m=p;else if("noopPromiseReject"===n)m=f;else if(/^\d+$/.test(n)){if(v(m=parseFloat(n)))return;if(Math.abs(m)>32767)return}else if("-1"===n)m=-1;else if(""===n)m="";else if("yes"===n)m="yes";else{if("no"!==n)return;m="no"}if(["asFunction","asCallback","asResolved","asRejected"].includes(o))m={asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)}[o](m);var $=!1,j=function(e){return $||($=void 0!==e&&void 0!==m&&typeof e!=typeof m&&null!==e)},x=function(n,r,i,o){if(!o.init(n[r]))return!1;var a,s=Object.getOwnPropertyDescriptor(n,r);if(s instanceof Object){if(!s.configurable)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,`Property '${r}' is not configurable`),!1;n[r]&&(n[r]=m),s.set instanceof Function&&(a=s.set)}return Object.defineProperty(n,r,{configurable:i,get:()=>o.get(),set(e){if(void 0!==a&&a(e),e instanceof Object){var n=t.split(".").slice(1);b&&!w&&(w=!0,e=new Proxy(e,{get:function(e,t,r){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==m&&(e[t]=m),i||e},e),Reflect.get(e,t,r)}}))}o.set(e)}}),!0},R=function(t,n){var r=d(t,n),{base:i}=r,{prop:o,chain:a}=r,s={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(e){this.factValue!==e&&(this.factValue=e,e instanceof Object&&R(e,a))}},c={init:e=>!j(e),get:()=>m,set(e){j(e)&&(m=e)}};if(a)if(void 0===i||null!==i[o]){(i instanceof Object||"object"==typeof i)&&g(i)&&x(i,o,!0,s);var u=t[o];(u instanceof Object||"object"==typeof u&&null!==u)&&R(u,a),x(i,o,!0,s)}else x(i,o,!0,s);else x(i,o,!1,c)&&function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)};R(window,t)}}function a(){}function s(){return a}function c(){return!0}function u(){return!1}function l(){throw new Error}function f(){return Promise.reject()}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var n=new Response(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",{status:200,statusText:"OK"});return"opaque"===t?Object.defineProperties(n,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:t}}):Object.defineProperties(n,{url:{value:e},type:{value:t}}),Promise.resolve(n)}}function d(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&g(e)||null===i?{base:e,prop:r,chain:t}:void 0!==i?d(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function v(e){return(Number.isNaN||window.isNaN)(e)}function g(e){return 0===Object.keys(e).length&&!e.prototype}function h(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function y(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"set-constant",args:["ytInitialPlayerResponse.playerAds","undefined"],version:"3.0.0"},["ytInitialPlayerResponse.playerAds","undefined"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(["set-constant.js","ubo-set-constant.js","set.js","ubo-set.js","ubo-set-constant","ubo-set"].includes(e.name)&&(1!==i.length&&(v(r=parseInt(i,10))||!r)&&(o=i),i=void 0),t&&function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var f=0;f<l.length;f+=1){if(o(e)&&l[f].startsWith(n)&&l[f].match(h(e)))return!0;if(a(e)&&l[f].startsWith(r)&&l[f].match(h(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&y(n),!0;var r=h(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&y(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack)){var m,w=!1;if("undefined"===n)m=void 0;else if("false"===n)m=!1;else if("true"===n)m=!0;else if("null"===n)m=null;else if("emptyArr"===n)m=[];else if("emptyObj"===n)m={};else if("noopFunc"===n)m=a;else if("noopCallbackFunc"===n)m=s;else if("trueFunc"===n)m=c;else if("falseFunc"===n)m=u;else if("throwFunc"===n)m=l;else if("noopPromiseResolve"===n)m=p;else if("noopPromiseReject"===n)m=f;else if(/^\d+$/.test(n)){if(v(m=parseFloat(n)))return;if(Math.abs(m)>32767)return}else if("-1"===n)m=-1;else if(""===n)m="";else if("yes"===n)m="yes";else{if("no"!==n)return;m="no"}if(["asFunction","asCallback","asResolved","asRejected"].includes(o))m={asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)}[o](m);var $=!1,j=function(e){return $||($=void 0!==e&&void 0!==m&&typeof e!=typeof m&&null!==e)},x=function(n,r,i,o){if(!o.init(n[r]))return!1;var a,s=Object.getOwnPropertyDescriptor(n,r);if(s instanceof Object){if(!s.configurable)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,`Property '${r}' is not configurable`),!1;n[r]&&(n[r]=m),s.set instanceof Function&&(a=s.set)}return Object.defineProperty(n,r,{configurable:i,get:()=>o.get(),set(e){if(void 0!==a&&a(e),e instanceof Object){var n=t.split(".").slice(1);b&&!w&&(w=!0,e=new Proxy(e,{get:function(e,t,r){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==m&&(e[t]=m),i||e},e),Reflect.get(e,t,r)}}))}o.set(e)}}),!0},R=function(t,n){var r=d(t,n),{base:i}=r,{prop:o,chain:a}=r,s={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(e){this.factValue!==e&&(this.factValue=e,e instanceof Object&&R(e,a))}},c={init:e=>!j(e),get:()=>m,set(e){j(e)&&(m=e)}};if(a)if(void 0===i||null!==i[o]){(i instanceof Object||"object"==typeof i)&&g(i)&&x(i,o,!0,s);var u=t[o];(u instanceof Object||"object"==typeof u&&null!==u)&&R(u,a),x(i,o,!0,s)}else x(i,o,!0,s);else x(i,o,!1,c)&&function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)};R(window,t)}}function a(){}function s(){return a}function c(){return!0}function u(){return!1}function l(){throw new Error}function f(){return Promise.reject()}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var n=new Response(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",{status:200,statusText:"OK"});return"opaque"===t?Object.defineProperties(n,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:t}}):Object.defineProperties(n,{url:{value:e},type:{value:t}}),Promise.resolve(n)}}function d(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&g(e)||null===i?{base:e,prop:r,chain:t}:void 0!==i?d(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function v(e){return(Number.isNaN||window.isNaN)(e)}function g(e){return 0===Object.keys(e).length&&!e.prototype}function h(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function y(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"set-constant",args:["playerResponse.adPlacements","undefined"],version:"3.0.0"},["playerResponse.adPlacements","undefined"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=l(t),o=l(n),a={nativeStringify:window.JSON.stringify},s=JSON.parse,c=function(){for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];var l=s.apply(JSON,n);return u(e,l,i,o,r,a)};c.toString=s.toString.bind(s),JSON.parse=c;var f=Response.prototype.json;"undefined"!=typeof Response&&(Response.prototype.json=function(){return f.apply(this).then(function(t){return u(e,t,i,o,r,a)})})}function a(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var p=0;p<l.length;p+=1){if(o(e)&&l[p].startsWith(n)&&l[p].match(f(e)))return!0;if(a(e)&&l[p].startsWith(r)&&l[p].match(f(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&p(n),!0;var r=f(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");return n.length&&n[0]!==RegExp.$1&&p(n),function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t.indexOf(".");if(-1===i){if("*"===t||"[]"===t)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.push({base:e,prop:o});else r.push({base:e,prop:t});return r}var a=t.slice(0,i);if("[]"===a&&Array.isArray(e)||"*"===a&&e instanceof Object){var c=t.slice(i+1);Object.keys(e).forEach(function(t){s(e[t],c,n,r)})}Array.isArray(e)&&e.forEach(function(e){void 0!==e&&s(e,t,n,r)});var u=e[a];return t=t.slice(i+1),void 0!==u&&s(u,t,n,r),r}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(n||o){var a=console.log;r?a(`${i}: ${t}`):a(`${i}:`,t)}}function u(e,t,n,r,i,o){var{nativeStringify:u}=o;if(0===n.length&&0===r.length)return c(e,`${window.location.hostname}\n${u(t,null,2)}\nStack trace:\n${(new Error).stack}`,!0),t&&"object"==typeof t&&c(e,t,!0,!1),t;try{if(!1===function(e,t,n,r,i,o){if(!t)return!1;var u,{nativeStringify:l}=o;if(0===n.length&&r.length>0){var p=l(t);if(f(r.join("")).test(p))return c(e,`${window.location.hostname}\n${l(t,null,2)}\nStack trace:\n${(new Error).stack}`,!0),t&&"object"==typeof t&&c(e,t,!0,!1),u=!1}if(i&&!a(i,(new Error).stack||""))return u=!1;for(var d,v=[".*.","*.",".*",".[].","[].",".[]"],g=function(){var e=r[h],n=e.split(".").pop(),i=v.some(function(t){return e.includes(t)}),o=s(t,e,i);if(!o.length)return{v:u=!1};u=!i;for(var a=0;a<o.length;a+=1){var c="string"==typeof n&&void 0!==o[a].base[n];u=i?c||u:c&&u}},h=0;h<r.length;h+=1)if(d=g())return d.v;return u}(e,t,n,r,i,o))return t;n.forEach(function(n){s(t,n,!0).forEach(function(t){void 0!==t&&t.base&&(delete t.base[t.prop],function(e){if(e.verbose){try{var t=console.trace.bind(console),n="[wBlock] ";"corelibs"===e.engine?n+=e.ruleText:(e.domainName&&(n+=`${e.domainName}`),e.args?n+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:n+=`#%#//scriptlet('${e.name}')`),t&&t(n)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}}(e))})})}catch(t){c(e,t)}return t}function l(e){return"string"==typeof e&&void 0!==e&&""!==e?e.split(/ +/):[]}function f(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function p(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"json-prune",args:["playerResponse.adPlacements playerResponse.adSlots","playerResponse.streamingData.serverAbrStreamingUrl"],version:"3.0.0"},["playerResponse.adPlacements playerResponse.adSlots","playerResponse.streamingData.serverAbrStreamingUrl"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!=typeof Proxy){var o,d=!t&&!n,v=u(t),g=u(n),h=window.JSON.parse,y=window.JSON.stringify,b=window.XMLHttpRequest.prototype.open,m=window.XMLHttpRequest.prototype.send,w={apply:function(e,t,n){return t.collectedHeaders.push(n),Reflect.apply(e,t,n)}},$={apply:function(t,n,i){return o=l.apply(null,i),(function(e,t,n){if(""===t||"*"===t)return!0;var r,i=(o=t,a=" ",u=":",l=function(e){return["url","method","headers","body","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","mode"].includes(e)},f={},o.split(a).forEach(function(e){var t=e.indexOf(u),n=e.slice(0,t);if(l(n)){var r=e.slice(t+1);f[n]=r}else f.url=e}),f);var o,a,u,l,f;if(d=i,Object.values(d).every(function(e){return function(e){var t,n="/",r=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e);e[0]===n&&e[e.length-1]===n&&(r=e.slice(1,-1));try{t=new RegExp(r),t=!0}catch(e){t=!1}return t}(e)})){var p=function(e){var t={},n=Object.keys(e);return n.forEach(function(n){t[n]=c(e[n])}),t}(i);r=Object.keys(p).every(function(e){var t=p[e],r=n[e];return Object.prototype.hasOwnProperty.call(n,e)&&"string"==typeof r&&(null==t?void 0:t.test(r))})}else s(e,`Invalid parameter: ${t}`),r=!1;var d;return r}(e,r,o)||d)&&(n.xhrShouldBePruned=!0,n.headersReceived=!!n.headersReceived),n.xhrShouldBePruned&&!n.headersReceived&&(n.headersReceived=!0,n.collectedHeaders=[],n.setRequestHeader=new Proxy(n.setRequestHeader,w)),Reflect.apply(t,n,i)}},j={apply:function(t,n,r){var u=(new Error).stack||"";if(!n.xhrShouldBePruned||i&&!f(i,u))return Reflect.apply(t,n,r);var l=new XMLHttpRequest;l.addEventListener("readystatechange",function(){if(4===l.readyState){var{readyState:t,response:r,responseText:o,responseURL:b,responseXML:m,status:w,statusText:$}=l,j=o||r;if("string"==typeof j||"object"==typeof j){var x;if("string"==typeof j)try{var R=h(j);if(d)s(e,`${window.location.hostname}\n${y(R,null,2)}\nStack trace:\n${u}`,!0),s(e,R,!0,!1),x=j;else{x=function(e,t,n,r,i,o){var{nativeStringify:u}=o;if(0===n.length&&0===r.length)return s(e,`${window.location.hostname}\n${u(t,null,2)}\nStack trace:\n${(new Error).stack}`,!0),t&&"object"==typeof t&&s(e,t,!0,!1),t;try{if(!1===function(e,t,n,r,i,o){if(!t)return!1;var a,{nativeStringify:u}=o;if(0===n.length&&r.length>0){var l=u(t);if(c(r.join("")).test(l))return s(e,`${window.location.hostname}\n${u(t,null,2)}\nStack trace:\n${(new Error).stack}`,!0),t&&"object"==typeof t&&s(e,t,!0,!1),a=!1}if(i&&!f(i,(new Error).stack||""))return a=!1;for(var d,v=[".*.","*.",".*",".[].","[].",".[]"],g=function(){var e=r[h],n=e.split(".").pop(),i=v.some(function(t){return e.includes(t)}),o=p(t,e,i);if(!o.length)return{v:a=!1};a=!i;for(var s=0;s<o.length;s+=1){var c="string"==typeof n&&void 0!==o[s].base[n];a=i?c||a:c&&a}},h=0;h<r.length;h+=1)if(d=g())return d.v;return a}(e,t,n,r,i,o))return t;n.forEach(function(n){p(t,n,!0).forEach(function(t){void 0!==t&&t.base&&(delete t.base[t.prop],a(e))})})}catch(t){s(e,t)}return t}(e,R,v,g,i="",{nativeStringify:y});try{var{responseType:O}=n;switch(O){case"":case"text":x=y(x);break;case"arraybuffer":x=(new TextEncoder).encode(y(x)).buffer;break;case"blob":x=new Blob([y(x)])}}catch(t){s(e,`Response body cannot be converted to reponse type: '${j}'`),x=j}}}catch(t){s(e,`Response body cannot be converted to json: '${j}'`),x=j}Object.defineProperties(n,{readyState:{value:t,writable:!1},responseURL:{value:b,writable:!1},responseXML:{value:m,writable:!1},status:{value:w,writable:!1},statusText:{value:$,writable:!1},response:{value:x,writable:!1},responseText:{value:x,writable:!1}}),setTimeout(function(){var e=new Event("readystatechange");n.dispatchEvent(e);var t=new Event("load");n.dispatchEvent(t);var r=new Event("loadend");n.dispatchEvent(r)},1),a(e)}}}),b.apply(l,[o.method,o.url,Boolean(o.async)]),n.collectedHeaders.forEach(function(e){l.setRequestHeader(e[0],e[1])}),n.collectedHeaders=[];try{m.call(l,r)}catch(e){return Reflect.apply(t,n,r)}}};XMLHttpRequest.prototype.open=new Proxy(XMLHttpRequest.prototype.open,$),XMLHttpRequest.prototype.send=new Proxy(XMLHttpRequest.prototype.send,j)}}function a(e){if(e.verbose){try{var t=console.trace.bind(console),n="[wBlock] ";"corelibs"===e.engine?n+=e.ruleText:(e.domainName&&(n+=`${e.domainName}`),e.args?n+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:n+=`#%#//scriptlet('${e.name}')`),t&&t(n)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(n||o){var a=console.log;r?a(`${i}: ${t}`):a(`${i}:`,t)}}function c(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function u(e){return"string"==typeof e&&void 0!==e&&""!==e?e.split(/ +/):[]}function l(e,t,n,r,i){return{method:e,url:t,async:n,user:r,password:i}}function f(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,u=s.indexOf("#");-1!==u&&(s=s.slice(0,u));var l=t.split("\n").slice(2).map(function(e){return e.trim()}),f=l.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(f)for(var p=0;p<f.length;p+=1){if(o(e)&&f[p].startsWith(n)&&f[p].match(c(e)))return!0;if(a(e)&&f[p].startsWith(r)&&f[p].match(c(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&d(n),!0;var r=c(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");return n.length&&n[0]!==RegExp.$1&&d(n),function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t.indexOf(".");if(-1===i){if("*"===t||"[]"===t)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.push({base:e,prop:o});else r.push({base:e,prop:t});return r}var a=t.slice(0,i);if("[]"===a&&Array.isArray(e)||"*"===a&&e instanceof Object){var s=t.slice(i+1);Object.keys(e).forEach(function(t){p(e[t],s,n,r)})}Array.isArray(e)&&e.forEach(function(e){void 0!==e&&p(e,t,n,r)});var c=e[a];return t=t.slice(i+1),void 0!==c&&p(c,t,n,r),r}function d(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"json-prune-xhr-response",args:["playerResponse.adPlacements playerResponse.playerAds playerResponse.adSlots adPlacements playerAds adSlots","","/playlist\\?list=|\\/player(?!.*(get_drm_license))|watch\\?[tv]=|get_watch\\?/"],version:"3.0.0"},["playerResponse.adPlacements playerResponse.playerAds playerResponse.adSlots adPlacements playerAds adSlots","","/playlist\\?list=|\\/player(?!.*(get_drm_license))|watch\\?[tv]=|get_watch\\?/"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if("undefined"!=typeof fetch&&"undefined"!=typeof Proxy&&"undefined"!=typeof Response){var o=u(t),d=u(n),v=window.JSON.stringify,g=window.Request.prototype.clone,h=window.Response.prototype.clone,y=window.fetch,b={apply:async function(t,n,u){var b,m,w,$=function(e,t){var n,r,i={},o=e[0];if(o instanceof Request){var a=t.call(o),s=(c=a,u=["url","method","headers","body","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","mode"].map(function(e){return[e,c[e]]}),Object.fromEntries(u));n=s.url,r=s}else n=o,r=e[1];var c,u;if(i.url=n,r instanceof Object){Object.keys(r).forEach(function(e){i[e]=r[e]})}return i}(u,g);if(!function(e,t,n){if(""===t||"*"===t)return!0;var r,i=(o=t,a=" ",c=":",u=function(e){return["url","method","headers","body","credentials","cache","redirect","referrer","referrerPolicy","integrity","keepalive","signal","mode"].includes(e)},f={},o.split(a).forEach(function(e){var t=e.indexOf(c),n=e.slice(0,t);if(u(n)){var r=e.slice(t+1);f[n]=r}else f.url=e}),f);var o,a,c,u,f;if(d=i,Object.values(d).every(function(e){return function(e){var t,n="/",r=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e);e[0]===n&&e[e.length-1]===n&&(r=e.slice(1,-1));try{t=new RegExp(r),t=!0}catch(e){t=!1}return t}(e)})){var p=function(e){var t={},n=Object.keys(e);return n.forEach(function(n){t[n]=l(e[n])}),t}(i);r=Object.keys(p).every(function(e){var t=p[e],r=n[e];return Object.prototype.hasOwnProperty.call(n,e)&&"string"==typeof r&&(null==t?void 0:t.test(r))})}else s(e,`Invalid parameter: ${t}`),r=!1;var d;return r}(e,r,$))return Reflect.apply(t,n,u);try{b=await y.apply(null,u),m=h.call(b)}catch(r){return s(e,`Could not make an original fetch request: ${$.url}`),Reflect.apply(t,n,u)}try{w=await b.json()}catch(t){var j=`Response body can't be converted to json: ${c($)}`;return s(e,j),m}var x=function(e,t,n,r,i,o){var{nativeStringify:c}=o;if(0===n.length&&0===r.length)return s(e,`${window.location.hostname}\n${c(t,null,2)}\nStack trace:\n${(new Error).stack}`,!0),t&&"object"==typeof t&&s(e,t,!0,!1),t;try{if(!1===function(e,t,n,r,i,o){if(!t)return!1;var a,{nativeStringify:c}=o;if(0===n.length&&r.length>0){var u=c(t);if(l(r.join("")).test(u))return s(e,`${window.location.hostname}\n${c(t,null,2)}\nStack trace:\n${(new Error).stack}`,!0),t&&"object"==typeof t&&s(e,t,!0,!1),a=!1}if(i&&!function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),f=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(f)for(var p=0;p<f.length;p+=1){if(o(e)&&f[p].startsWith(n)&&f[p].match(l(e)))return!0;if(a(e)&&f[p].startsWith(r)&&f[p].match(l(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&p(n),!0;var r=l(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&p(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack||""))return a=!1;for(var d,v=[".*.","*.",".*",".[].","[].",".[]"],g=function(){var e=r[h],n=e.split(".").pop(),i=v.some(function(t){return e.includes(t)}),o=f(t,e,i);if(!o.length)return{v:a=!1};a=!i;for(var s=0;s<o.length;s+=1){var c="string"==typeof n&&void 0!==o[s].base[n];a=i?c||a:c&&a}},h=0;h<r.length;h+=1)if(d=g())return d.v;return a}(e,t,n,r,i,o))return t;n.forEach(function(n){f(t,n,!0).forEach(function(t){void 0!==t&&t.base&&(delete t.base[t.prop],a(e))})})}catch(t){s(e,t)}return t}(e,w,o,d,i,{nativeStringify:v,nativeRequestClone:g,nativeResponseClone:h,nativeFetch:y}),R=function(e,t){var{bodyUsed:n,headers:r,ok:i,redirected:o,status:a,statusText:s,type:c,url:u}=e,l=new Response(t,{status:a,statusText:s,headers:r});return Object.defineProperties(l,{url:{value:u},type:{value:c},ok:{value:i},bodyUsed:{value:n},redirected:{value:o}}),l}(b,v(x));return a(e),R}};window.fetch=new Proxy(window.fetch,b)}}function a(e){if(e.verbose){try{var t=console.trace.bind(console),n="[wBlock] ";"corelibs"===e.engine?n+=e.ruleText:(e.domainName&&(n+=`${e.domainName}`),e.args?n+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:n+=`#%#//scriptlet('${e.name}')`),t&&t(n)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(n||o){var a=console.log;r?a(`${i}: ${t}`):a(`${i}:`,t)}}function c(e){return e&&"object"==typeof e?function(e){return 0===Object.keys(e).length&&!e.prototype}(e)?"{}":Object.entries(e).map(function(e){var t=e[0],n=e[1],r=n;return n instanceof Object&&(r=`{ ${c(n)} }`),`${t}:"${r}"`}).join(" "):String(e)}function u(e){return"string"==typeof e&&void 0!==e&&""!==e?e.split(/ +/):[]}function l(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=t.indexOf(".");if(-1===i){if("*"===t||"[]"===t)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.push({base:e,prop:o});else r.push({base:e,prop:t});return r}var a=t.slice(0,i);if("[]"===a&&Array.isArray(e)||"*"===a&&e instanceof Object){var s=t.slice(i+1);Object.keys(e).forEach(function(t){f(e[t],s,n,r)})}Array.isArray(e)&&e.forEach(function(e){void 0!==e&&f(e,t,n,r)});var c=e[a];return t=t.slice(i+1),void 0!==c&&f(c,t,n,r),r}function p(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"json-prune-fetch-response",args:["playerResponse.adPlacements playerResponse.playerAds playerResponse.adSlots adPlacements playerAds adSlots","","/playlist\\?list=|player\\?|watch\\?[tv]=/"],version:"3.0.0"},["playerResponse.adPlacements playerResponse.playerAds playerResponse.adSlots adPlacements playerAds adSlots","","/playlist\\?list=|player\\?|watch\\?[tv]=/"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(["set-constant.js","ubo-set-constant.js","set.js","ubo-set.js","ubo-set-constant","ubo-set"].includes(e.name)&&(1!==i.length&&(v(r=parseInt(i,10))||!r)&&(o=i),i=void 0),t&&function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var f=0;f<l.length;f+=1){if(o(e)&&l[f].startsWith(n)&&l[f].match(h(e)))return!0;if(a(e)&&l[f].startsWith(r)&&l[f].match(h(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&y(n),!0;var r=h(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&y(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack)){var m,w=!1;if("undefined"===n)m=void 0;else if("false"===n)m=!1;else if("true"===n)m=!0;else if("null"===n)m=null;else if("emptyArr"===n)m=[];else if("emptyObj"===n)m={};else if("noopFunc"===n)m=a;else if("noopCallbackFunc"===n)m=s;else if("trueFunc"===n)m=c;else if("falseFunc"===n)m=u;else if("throwFunc"===n)m=l;else if("noopPromiseResolve"===n)m=p;else if("noopPromiseReject"===n)m=f;else if(/^\d+$/.test(n)){if(v(m=parseFloat(n)))return;if(Math.abs(m)>32767)return}else if("-1"===n)m=-1;else if(""===n)m="";else if("yes"===n)m="yes";else{if("no"!==n)return;m="no"}if(["asFunction","asCallback","asResolved","asRejected"].includes(o))m={asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)}[o](m);var $=!1,j=function(e){return $||($=void 0!==e&&void 0!==m&&typeof e!=typeof m&&null!==e)},x=function(n,r,i,o){if(!o.init(n[r]))return!1;var a,s=Object.getOwnPropertyDescriptor(n,r);if(s instanceof Object){if(!s.configurable)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,`Property '${r}' is not configurable`),!1;n[r]&&(n[r]=m),s.set instanceof Function&&(a=s.set)}return Object.defineProperty(n,r,{configurable:i,get:()=>o.get(),set(e){if(void 0!==a&&a(e),e instanceof Object){var n=t.split(".").slice(1);b&&!w&&(w=!0,e=new Proxy(e,{get:function(e,t,r){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==m&&(e[t]=m),i||e},e),Reflect.get(e,t,r)}}))}o.set(e)}}),!0},R=function(t,n){var r=d(t,n),{base:i}=r,{prop:o,chain:a}=r,s={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(e){this.factValue!==e&&(this.factValue=e,e instanceof Object&&R(e,a))}},c={init:e=>!j(e),get:()=>m,set(e){j(e)&&(m=e)}};if(a)if(void 0===i||null!==i[o]){(i instanceof Object||"object"==typeof i)&&g(i)&&x(i,o,!0,s);var u=t[o];(u instanceof Object||"object"==typeof u&&null!==u)&&R(u,a),x(i,o,!0,s)}else x(i,o,!0,s);else x(i,o,!1,c)&&function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)};R(window,t)}}function a(){}function s(){return a}function c(){return!0}function u(){return!1}function l(){throw new Error}function f(){return Promise.reject()}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var n=new Response(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",{status:200,statusText:"OK"});return"opaque"===t?Object.defineProperties(n,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:t}}):Object.defineProperties(n,{url:{value:e},type:{value:t}}),Promise.resolve(n)}}function d(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&g(e)||null===i?{base:e,prop:r,chain:t}:void 0!==i?d(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function v(e){return(Number.isNaN||window.isNaN)(e)}function g(e){return 0===Object.keys(e).length&&!e.prototype}function h(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function y(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"set-constant",args:["navigator.getBattery","noopPromiseResolve"],version:"3.0.0"},["navigator.getBattery","noopPromiseResolve"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e){var t="browsingTopics";Document instanceof Object!=!1&&Object.prototype.hasOwnProperty.call(Document.prototype,t)&&Document.prototype[t]instanceof Function!=!1&&(Document.prototype[t]=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"==typeof Response)return;var r=new Response(e,{status:200,statusText:"OK"});"opaque"===n?Object.defineProperties(r,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:n}}):Object.defineProperties(r,{url:{value:t},type:{value:n}});return Promise.resolve(r)}("[]")},function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e))}}({engine:"safari-extension",name:"no-topics",args:[],version:"3.0.0"},[]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",b=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(["set-constant.js","ubo-set-constant.js","set.js","ubo-set.js","ubo-set-constant","ubo-set"].includes(e.name)&&(1!==i.length&&(v(r=parseInt(i,10))||!r)&&(o=i),i=void 0),t&&function(e,t){if(!e||""===e)return!0;var n=function(){try{for(var e=[],t=1;t<10;t+=1){var n=`$${t}`;if(!RegExp[n])break;e.push(RegExp[n])}return e}catch(e){return[]}}();if(function(e,t){var n="inlineScript",r="injectedScript",i="<anonymous>",o=function(e){return e.includes(n)},a=function(e){return e.includes(r)};if(!o(e)&&!a(e))return!1;var s=window.location.href,c=s.indexOf("#");-1!==c&&(s=s.slice(0,c));var u=t.split("\n").slice(2).map(function(e){return e.trim()}),l=u.map(function(e){var t,o=/(.*?@)?(\S+)(:\d+)(:\d+)\)?$/.exec(e);if(o){var a,c,u=o[2],l=o[3],f=o[4];if(null!==(a=u)&&void 0!==a&&a.startsWith("(")&&(u=u.slice(1)),null!==(c=u)&&void 0!==c&&c.startsWith(i)){var p;u=r;var d=void 0!==o[1]?o[1].slice(0,-1):e.slice(0,o.index).trim();null!==(p=d)&&void 0!==p&&p.startsWith("at")&&(d=d.slice(2).trim()),t=`${d} ${u}${l}${f}`.trim()}else t=u===s?`${n}${l}${f}`.trim():`${u}${l}${f}`.trim()}else t=e;return t});if(l)for(var f=0;f<l.length;f+=1){if(o(e)&&l[f].startsWith(n)&&l[f].match(h(e)))return!0;if(a(e)&&l[f].startsWith(r)&&l[f].match(h(e)))return!0}return!1}(e,t))return n.length&&n[0]!==RegExp.$1&&y(n),!0;var r=h(e),i=t.split("\n").slice(2).map(function(e){return e.trim()}).join("\n");n.length&&n[0]!==RegExp.$1&&y(n);return function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"test"),t=null==e?void 0:e.value;if(e&&"function"==typeof e.value)return t;throw new Error("RegExp.prototype.test is not a function")}().call(r,i)}(i,(new Error).stack)){var m,w=!1;if("undefined"===n)m=void 0;else if("false"===n)m=!1;else if("true"===n)m=!0;else if("null"===n)m=null;else if("emptyArr"===n)m=[];else if("emptyObj"===n)m={};else if("noopFunc"===n)m=a;else if("noopCallbackFunc"===n)m=s;else if("trueFunc"===n)m=c;else if("falseFunc"===n)m=u;else if("throwFunc"===n)m=l;else if("noopPromiseResolve"===n)m=p;else if("noopPromiseReject"===n)m=f;else if(/^\d+$/.test(n)){if(v(m=parseFloat(n)))return;if(Math.abs(m)>32767)return}else if("-1"===n)m=-1;else if(""===n)m="";else if("yes"===n)m="yes";else{if("no"!==n)return;m="no"}if(["asFunction","asCallback","asResolved","asRejected"].includes(o))m={asFunction:e=>function(){return e},asCallback:e=>function(){return function(){return e}},asResolved:e=>Promise.resolve(e),asRejected:e=>Promise.reject(e)}[o](m);var $=!1,j=function(e){return $||($=void 0!==e&&void 0!==m&&typeof e!=typeof m&&null!==e)},x=function(n,r,i,o){if(!o.init(n[r]))return!1;var a,s=Object.getOwnPropertyDescriptor(n,r);if(s instanceof Object){if(!s.configurable)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],{name:i,verbose:o}=e;if(!n&&!o)return;var a=console.log;if(!r)return void a(`${i}:`,t);a(`${i}: ${t}`)}(e,`Property '${r}' is not configurable`),!1;n[r]&&(n[r]=m),s.set instanceof Function&&(a=s.set)}return Object.defineProperty(n,r,{configurable:i,get:()=>o.get(),set(e){if(void 0!==a&&a(e),e instanceof Object){var n=t.split(".").slice(1);b&&!w&&(w=!0,e=new Proxy(e,{get:function(e,t,r){return n.reduce(function(e,t,n,r){var i=null==e?void 0:e[t];return n===r.length-1&&i!==m&&(e[t]=m),i||e},e),Reflect.get(e,t,r)}}))}o.set(e)}}),!0},R=function(t,n){var r=d(t,n),{base:i}=r,{prop:o,chain:a}=r,s={factValue:void 0,init(e){return this.factValue=e,!0},get(){return this.factValue},set(e){this.factValue!==e&&(this.factValue=e,e instanceof Object&&R(e,a))}},c={init:e=>!j(e),get:()=>m,set(e){j(e)&&(m=e)}};if(a)if(void 0===i||null!==i[o]){(i instanceof Object||"object"==typeof i)&&g(i)&&x(i,o,!0,s);var u=t[o];(u instanceof Object||"object"==typeof u&&null!==u)&&R(u,a),x(i,o,!0,s)}else x(i,o,!0,s);else x(i,o,!1,c)&&function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)};R(window,t)}}function a(){}function s(){return a}function c(){return!0}function u(){return!1}function l(){throw new Error}function f(){return Promise.reject()}function p(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"basic";if("undefined"!=typeof Response){var n=new Response(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",{status:200,statusText:"OK"});return"opaque"===t?Object.defineProperties(n,{body:{value:null},status:{value:0},ok:{value:!1},statusText:{value:""},url:{value:""},type:{value:t}}):Object.defineProperties(n,{url:{value:e},type:{value:t}}),Promise.resolve(n)}}function d(e,t){var n=t.indexOf(".");if(-1===n)return{base:e,prop:t};var r=t.slice(0,n);if(null===e)return{base:e,prop:r,chain:t};var i=e[r];return t=t.slice(n+1),(e instanceof Object||"object"==typeof e)&&g(e)||null===i?{base:e,prop:r,chain:t}:void 0!==i?d(i,t):(Object.defineProperty(e,r,{configurable:!0}),{base:e,prop:r,chain:t})}function v(e){return(Number.isNaN||window.isNaN)(e)}function g(e){return 0===Object.keys(e).length&&!e.prototype}function h(e){var t=e||"",n="/";if(""===t)return new RegExp(".?");var r,i,o=t.lastIndexOf(n),a=t.substring(o+1),s=t.substring(0,o+1),c=(i=a,(r=s).startsWith(n)&&r.endsWith(n)&&!r.endsWith("\\/")&&function(e){if(!e)return!1;try{return new RegExp("",e),!0}catch(e){return!1}}(i)?i:"");if(t.startsWith(n)&&t.endsWith(n)||c)return new RegExp((c?s:t).slice(1,-1),c);var u=t.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(u)}function y(e){if(e.length)try{var t="";t=1===e.length?`(${e[0]})`:e.reduce(function(e,t,n){return 1===n?`(${e}),(${t})`:`${e},(${t})`});var n=new RegExp(t);e.toString().replace(n,"")}catch(e){var r=`Failed to restore RegExp values: ${e}`;console.log(r)}}}({engine:"safari-extension",name:"set-constant",args:["navigator.privateAttribution","undefined"],version:"3.0.0"},["navigator.privateAttribution","undefined"]),function(e,t){var n="done",r=e.uniqueId+e.name+"_"+(Array.isArray(t)?t.join("_"):"");if(!e.uniqueId||Window.prototype.toString[r]!==n){var i=t?[].concat(e).concat(t):[e];try{o.apply(this,i),e.uniqueId&&Object.defineProperty(Window.prototype.toString,r,{value:n,enumerable:!1,writable:!1,configurable:!1})}catch(e){console.log(e)}}function o(e){if(Document instanceof Object!=!1){for(var t={joinAdInterestGroup:c,runAdAuction:u,leaveAdInterestGroup:c,clearOriginJoinedAdInterestGroups:c,createAuctionNonce:a,updateAdInterestGroups:s},n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],o=Navigator.prototype;Object.prototype.hasOwnProperty.call(o,i)&&o[i]instanceof Function!=!1&&(o[i]=t[i])}!function(e){var t="[wBlock]";if(!e.verbose)return;try{var n=console.trace.bind(console),r=`${t} `;"corelibs"===e.engine?r+=e.ruleText:(e.domainName&&(r+=`${e.domainName}`),e.args?r+=`#%#//scriptlet('${e.name}', '${e.args.join("', '")}')`:r+=`#%#//scriptlet('${e.name}')`),n&&n(r)}catch(e){}"function"==typeof window.__debug&&window.__debug(e)}(e)}}function a(){return""}function s(){}function c(){return Promise.resolve(void 0)}function u(){return Promise.resolve(null)}}({engine:"safari-extension",name:"no-protected-audience",args:[],version:"3.0.0"},[])}();